<!DOCTYPE html>
<html lang="de-de"><head><meta charset="utf-8">
<meta http-equiv="content-type" content="text/html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title itemprop="name">Homelab-1.4 - VCF 9 | vi-universe.de | Christian Kremer</title>
<meta property="og:title" content="Homelab-1.4 - VCF 9 | vi-universe.de | Christian Kremer" />
<meta name="twitter:title" content="Homelab-1.4 - VCF 9 | vi-universe.de | Christian Kremer" />
<meta itemprop="name" content="Homelab-1.4 - VCF 9 | vi-universe.de | Christian Kremer" />
<meta name="application-name" content="Homelab-1.4 - VCF 9 | vi-universe.de | Christian Kremer" />
<meta property="og:site_name" content="vi-universe.de" />

<meta name="description" content="vi-universe.de | Christian Kremer">
<meta itemprop="description" content="vi-universe.de | Christian Kremer" />
<meta property="og:description" content="vi-universe.de | Christian Kremer" />
<meta name="twitter:description" content="vi-universe.de | Christian Kremer" />

<meta property="og:locale" content="de-de" />
<meta name="language" content="de-de" />

  <link rel="alternate" hreflang="de-de" href="https://vi-universe.de/posts/homelab_1.4/" title="German" />





    
    
    

    <meta property="og:type" content="article" />
    <meta property="og:article:published_time" content=2025-07-15T00:00:00Z />
    <meta property="article:published_time" content=2025-07-15T00:00:00Z />
    <meta property="og:url" content="https://vi-universe.de/posts/homelab_1.4/" />

    
    <meta property="og:article:author" content="Christian Kremer" />
    <meta property="article:author" content="Christian Kremer" />
    <meta name="author" content="Christian Kremer" />
    
    

    

    <script defer type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Article",
        "headline": "Homelab-1.4 - VCF 9",
        "author": {
        "@type": "Person",
        "name": ""
        },
        "datePublished": "2025-07-15",
        "description": "",
        "wordCount":  1300 ,
        "mainEntityOfPage": "True",
        "dateModified": "2025-07-15",
        "image": {
        "@type": "imageObject",
        "url": ""
        },
        "publisher": {
        "@type": "Organization",
        "name": "vi-universe.de | Christian Kremer"
        }
    }
    </script>


<meta name="generator" content="Hugo 0.147.8">

    
    <meta property="og:url" content="https://vi-universe.de/posts/homelab_1.4/">
  <meta property="og:site_name" content="vi-universe.de | Christian Kremer">
  <meta property="og:title" content="Homelab-1.4 - VCF 9">
  <meta property="og:description" content="Homelab-1.4: VMware Cloud Foundation 9 auf Intel NUC &amp; Beelink NAS Nachdem vor wenigen Tagen VMware Cloud Foundation (VCF) 9 veröffentlicht wurde, war es für mich an der Zeit, mein Homelab komplett neu aufzubauen. Bisher bestand mein Setup aus einer klassischen Kombination von Einzelprodukten wie vSphere, NSX und Avi. Mit dem Release von VCF 9 bietet sich nun die perfekte Gelegenheit, auf eine voll integrierte Cloud-Plattform umzustellen.
VCF 9 bringt einige entscheidende Neuerungen mit, die den Betrieb im Homelab deutlich vereinfachen und effizienter gestalten.">
  <meta property="og:locale" content="de_de">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-07-15T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-07-15T00:00:00+00:00">


    
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Homelab-1.4 - VCF 9">
  <meta name="twitter:description" content="Homelab-1.4: VMware Cloud Foundation 9 auf Intel NUC &amp; Beelink NAS Nachdem vor wenigen Tagen VMware Cloud Foundation (VCF) 9 veröffentlicht wurde, war es für mich an der Zeit, mein Homelab komplett neu aufzubauen. Bisher bestand mein Setup aus einer klassischen Kombination von Einzelprodukten wie vSphere, NSX und Avi. Mit dem Release von VCF 9 bietet sich nun die perfekte Gelegenheit, auf eine voll integrierte Cloud-Plattform umzustellen.
VCF 9 bringt einige entscheidende Neuerungen mit, die den Betrieb im Homelab deutlich vereinfachen und effizienter gestalten.">


    

    <link rel="canonical" href="https://vi-universe.de/posts/homelab_1.4/">
    <link href="/style.min.cf5e90893fe6ed558990ae94c193d330841d6aabc33aa8f6f65ef6e15b25378e.css" rel="stylesheet">
    <link href="/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css" rel="stylesheet">

    
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg">
    <link rel="shortcut icon" href="/favicon.ico">




<link rel="manifest" href="https://vi-universe.de/site.webmanifest">

<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="theme-color" content="#434648">

    
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg">

    
    
    
      <meta name="google-site-verification" content="8-AAlYVqr7YS51n8n8D6dd01y8cm0kociCCSSUTR7LQ" />

    
</head>
<body data-theme = "auto" class="notransition">

<script src="/js/theme.min.8961c317c5b88b953fe27525839672c9343f1058ab044696ca225656c8ba2ab0.js" integrity="sha256-iWHDF8W4i5U/4nUlg5ZyyTQ/EFirBEaWyiJWVsi6KrA="></script>

<div class="navbar" role="navigation">
    <nav class="menu" aria-label="Main Navigation">
        <a href="https://vi-universe.de/" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="feather feather-home">
<title>Startseite</title>
<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
<polyline points="9 22 9 12 15 12 15 22"></polyline>
</svg>
        </a>
        <input type="checkbox" id="menu-trigger" class="menu-trigger" />
        <label for="menu-trigger">
            <span class="menu-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" stroke="currentColor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7L3.40726 7"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488L3.49301 3.51488"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"></path><path stroke-linecap="round" stroke-linejoin="round" d="M0.5 12.5V1.5C0.5 0.947715 0.947715 0.5 1.5 0.5H12.5C13.0523 0.5 13.5 0.947715 13.5 1.5V12.5C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C0.947715 13.5 0.5 13.0523 0.5 12.5Z"></path></svg>
            </span>
        </label>

        <div class="trigger">
            <ul class="trigger-container">
                
                
                <li>
                    <a class="menu-link " href="/">
                        Startseite
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link active" href="/posts/">
                        Beiträge
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/pages/about/">
                        Über mich
                    </a>
                    
                </li>
                
                <li class="menu-separator">
                    <span>|</span>
                </li>
                
                
            </ul>
            <a id="mode" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
            </a>
        </div>
    </nav>
</div>

<div class="wrapper post">
    <main class="page-content" aria-label="Content">
        <article>
            <header class="header">
                <h1 class="header-title">Homelab-1.4 - VCF 9</h1>
                
                
                
                <div class="post-meta">
                    <time datetime="2025-07-15T00:00:00&#43;00:00" itemprop="datePublished"> 15.07.2025 </time>
                </div>
                
            </header>
            
    
    <details class="toc" ZgotmplZ>
        <summary><b>Inhaltsverzeichnis</b></summary>
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#storage-flexibler-storage-in-vcf-9">Storage: Flexibler Storage in VCF 9</a></li>
      </ul>
    </li>
    <li><a href="#mein-hardware-setup-für-vcf-9">Mein Hardware-Setup für VCF 9</a>
      <ul>
        <li><a href="#die-komponenten-in-der-übersicht">Die Komponenten in der Übersicht</a></li>
        <li><a href="#die-hosts-intel-nuc-13-pro">Die Hosts: Intel NUC 13 Pro</a></li>
        <li><a href="#der-storage-beelink-me-mini-openmediavault">Der Storage: Beelink ME Mini (OpenMediaVault)</a></li>
        <li><a href="#das-netzwerk-durchgängig-25-gbits">Das Netzwerk: Durchgängig 2.5 Gbit/s</a></li>
        <li><a href="#vcf-9-homelab-deep-dive-in-ram-tiering-cpu-optimierung--netzwerk-design">VCF 9 Homelab: Deep Dive in RAM-Tiering, CPU-Optimierung &amp; Netzwerk-Design</a></li>
        <li><a href="#memory-tiering">Memory Tiering:</a></li>
        <li><a href="#konfiguration-via-esxi-shell">Konfiguration via ESXi-Shell:</a></li>
        <li><a href="#die-biglittle-hürde-intel-core-i7-1360p">Die &ldquo;Big.LITTLE&rdquo; Hürde: Intel Core i7-1360P</a></li>
        <li><a href="#das-netzwerk-design-vlans--subnetze">Das Netzwerk-Design: VLANs &amp; Subnetze</a></li>
        <li><a href="#infrastruktur--storage">Infrastruktur &amp; Storage</a></li>
        <li><a href="#nsx-overlay">NSX Overlay</a></li>
        <li><a href="#routing--bgp-tier-0">Routing &amp; BGP (Tier-0)</a></li>
        <li><a href="#ressourcenübersicht-der-vcf-9-management-appliances">Ressourcenübersicht der VCF 9 Management Appliances</a></li>
        <li><a href="#erweiterte-ressourcenübersicht-vcf-9--avi--vks-tanzu">Erweiterte Ressourcenübersicht: VCF 9 + Avi + VKS (Tanzu)</a></li>
      </ul>
    </li>
    <li><a href="#fazit-maximale-cloud-power-auf-kleinstem-raum">Fazit: Maximale Cloud-Power auf kleinstem Raum</a>
      <ul>
        <li><a href="#fazit-meines-setups">Fazit meines Setups:</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </details>
            <div class="page-content">
                <h1 id="homelab-14-vmware-cloud-foundation-9-auf-intel-nuc--beelink-nas">Homelab-1.4: VMware Cloud Foundation 9 auf Intel NUC &amp; Beelink NAS</h1>
<p>Nachdem vor wenigen Tagen <strong>VMware Cloud Foundation (VCF) 9</strong> veröffentlicht wurde, war es für mich an der Zeit, mein Homelab komplett neu aufzubauen. Bisher bestand mein Setup aus einer klassischen Kombination von Einzelprodukten wie vSphere, NSX und Avi. Mit dem Release von VCF 9 bietet sich nun die perfekte Gelegenheit, auf eine voll integrierte Cloud-Plattform umzustellen.</p>
<p>VCF 9 bringt einige entscheidende Neuerungen mit, die den Betrieb im Homelab deutlich vereinfachen und effizienter gestalten.</p>
<hr>
<h3 id="storage-flexibler-storage-in-vcf-9">Storage: Flexibler Storage in VCF 9</h3>
<p>Bisher war die Management Domain in VCF fest an vSAN als primären Speicher gebunden. Das bedeutete oft einen hohen Ressourcen-Overhead und eine Mindestanzahl an Hosts, die für viele Homelabber schwer zu stemmen war.</p>
<p>Mit <strong>VCF 9</strong> hat sich das geändert:</p>
<ul>
<li><strong>NFS als Primary Storage:</strong> Die Management Domain kann nun offiziell NFS nutzen. Das reduziert den CPU- und RAM-Overhead, der normalerweise für vSAN reserviert werden müsste.</li>
<li><strong>2-Node Management Domain:</strong> Durch den Wegfall des vSAN-Zwangs lässt sich die minimale Anzahl der Hosts für die Management Domain auf lediglich <strong>2 Hosts</strong> reduzieren – ideal für ein kompaktes Setup mit zwei Intel NUCs.</li>
</ul>
<h2 id="mein-hardware-setup-für-vcf-9">Mein Hardware-Setup für VCF 9</h2>
<p>Um diese Vorteile zu nutzen, habe ich mein Setup gezielt um Netzwerkspeicher und schnellere Switching-Kapazitäten erweitert. Mein Ziel war es, meine bewährten Intel NUCs weiter zu betreiben, aber die Storage-Strategie von lokal auf zentral umzustellen.</p>
<h3 id="die-komponenten-in-der-übersicht">Die Komponenten in der Übersicht</h3>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Komponente</th>
          <th style="text-align: left">Modell</th>
          <th style="text-align: left">Details</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>Compute</strong></td>
          <td style="text-align: left">2x Intel NUC 13 Pro</td>
          <td style="text-align: left">Core i7-1360P, 64GB DDR4 RAM</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Storage</strong></td>
          <td style="text-align: left">Beelink ME Mini NAS</td>
          <td style="text-align: left">6-Slot NVMe, OpenMediaVault</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>Network</strong></td>
          <td style="text-align: left">Mikrotik CRS310-8G+2S+</td>
          <td style="text-align: left">8x 2.5Gbit, 2x 10Gbit SFP+</td>
      </tr>
  </tbody>
</table>
<h3 id="die-hosts-intel-nuc-13-pro">Die Hosts: Intel NUC 13 Pro</h3>
<p>Die NUCs bleiben das Kraftpaket meines Labs. Da ich nun auf NFS setze, nutze ich die verbauten <strong>1 TB NVMe-Drives</strong> nicht mehr für primären Speicher, sondern für <strong>Memory Tiering</strong>, um die 64 GB RAM der NUCs virtuell zu erweitern. Als Bootmedium dient jeweils eine 256 GB SSD am 2,5&quot;-SATA-Port.</p>
<h3 id="der-storage-beelink-me-mini-openmediavault">Der Storage: Beelink ME Mini (OpenMediaVault)</h3>
<p>Für das NFS-Backend habe ich mich für die <strong>Beelink ME Mini Home Storage NAS</strong> entschieden. Sie bietet Platz für bis zu 6 NVMe-SSDs. Aktuell verwende ich dort 2x 2 TB NVMes im JBOD-Verbund, um die nötige Kapazität für die Management-Workloads bereitzustellen.</p>
<h3 id="das-netzwerk-durchgängig-25-gbits">Das Netzwerk: Durchgängig 2.5 Gbit/s</h3>
<p>Da sowohl die NUCs als auch die Beelink NAS über 2,5 Gbit/s-Ports verfügen, wurde das Netzwerk mit einem <strong>Mikrotik CRS310</strong> aufgerüstet. So ist sichergestellt, dass der NFS-Traffic nicht zum Flaschenhals wird.</p>
<h3 id="vcf-9-homelab-deep-dive-in-ram-tiering-cpu-optimierung--netzwerk-design">VCF 9 Homelab: Deep Dive in RAM-Tiering, CPU-Optimierung &amp; Netzwerk-Design</h3>
<p>Nachdem die Hardware für mein neues VMware Cloud Foundation (VCF) 9 Lab steht, geht es nun an die Konfiguration. Wer VCF auf Consumer-Hardware wie den Intel NUCs betreiben möchte, stößt schnell auf zwei Hürden: Die RAM-Begrenzung und die moderne Hybrid-Architektur der Intel-CPUs (Big.LITTLE).</p>
<h3 id="memory-tiering">Memory Tiering:</h3>
<p>Mit insgesamt 128 GB physischem RAM (64 GB pro NUC) ist der Betrieb einer vollständigen VCF 9 Management Domain (vCenter, SDDC Manager, NSX Manager) extrem knapp bemessen. Um den Hosts mehr Luft zu verschaffen, nutze ich das in vSphere integrierte <strong>Memory Tiering</strong>. Dabei wird die schnelle lokale NVMe-SSD als &ldquo;langsamerer&rdquo; RAM-Ersatz (Tier 1) genutzt.</p>
<p>Damit stehen mir pro NUC effektiv <strong>128 GB RAM</strong> zur Verfügung (64 GB physisch + 64 GB via Tiering).</p>
<h3 id="konfiguration-via-esxi-shell">Konfiguration via ESXi-Shell:</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 1. Memory Tiering im Kernel aktivieren</span>
</span></span><span class="line"><span class="cl">esxcli system settings kernel <span class="nb">set</span> -s MemoryTiering -v TRUE
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 2. Die lokale NVMe als Tiering-Device zuweisen (ID anpassen!)</span>
</span></span><span class="line"><span class="cl">esxcli system tierdevice create -d /vmfs/devices/disks/**NVME_ID**
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 3. 100% des NVMe-Speichers für Tiering reservieren</span>
</span></span><span class="line"><span class="cl">esxcli system settings advanced <span class="nb">set</span> -o /Mem/TierNvmePct -i <span class="m">100</span>
</span></span></code></pre></div><h3 id="die-biglittle-hürde-intel-core-i7-1360p">Die &ldquo;Big.LITTLE&rdquo; Hürde: Intel Core i7-1360P</h3>
<p>Die 13. Generation der Intel CPUs nutzt eine Hybrid-Architektur aus <strong>Performance- und Efficiency-Cores</strong>. Da ESXi standardmäßig einheitliche CPU-Kerne erwartet, würde das System ohne Anpassung unmittelbar mit einem Purple Screen (PSOD) abstürzen.</p>
<p>Mit folgendem Workaround läuft der ESXi jedoch stabil auf der Consumer-Architektur:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Verhindert den Panic-Check bei unterschiedlichen CPU-Kernen</span>
</span></span><span class="line"><span class="cl">esxcli system settings kernel <span class="nb">set</span> -s cpuUniformityHardCheckPanic -v FALSE
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Ignoriert MSR-Fehler (Model Specific Register)</span>
</span></span><span class="line"><span class="cl">esxcli system settings kernel <span class="nb">set</span> -s ignoreMsrFaults -v TRUE
</span></span></code></pre></div><h3 id="das-netzwerk-design-vlans--subnetze">Das Netzwerk-Design: VLANs &amp; Subnetze</h3>
<p>Für ein voll funktionsfähiges VCF-Setup inklusive NSX und BGP-Peering ist eine saubere Trennung der Netze essenziell. Mein Mikrotik-Switch und die vorgelagerte Firewall (Fortigate) bedienen dabei folgende Struktur:</p>
<h3 id="infrastruktur--storage">Infrastruktur &amp; Storage</h3>
<ul>
<li><strong>Storage (VLAN 15):</strong> <code>10.172.15.0/24</code> – NFS-Anbindung für das Beelink NAS.</li>
<li><strong>ESXi Management (VLAN 10):</strong> <code>10.172.10.0/24</code> – Management der physischen Hosts.</li>
<li><strong>VM Management (VLAN 11):</strong> <code>10.172.11.0/24</code> – Hier laufen vCenter und SDDC Manager.</li>
<li><strong>vMotion (VLAN 12):</strong> <code>10.172.12.0/24</code> - vMotion Netz</li>
<li><strong>Switch Management (VLAN 9):</strong> <code>10.172.9.32/27</code> – Verwaltung des Mikrotik-Switches.</li>
</ul>
<h3 id="nsx-overlay">NSX Overlay</h3>
<ul>
<li><strong>Host TEP (VLAN 13):</strong> <code>10.172.13.0/24</code> – Transport Endpoints für die ESXi Hosts.</li>
<li><strong>Edge TEP (VLAN 14):</strong> <code>10.172.14.0/24</code> – Transport Endpoints für die NSX Edges.</li>
</ul>
<h3 id="routing--bgp-tier-0">Routing &amp; BGP (Tier-0)</h3>
<p>Damit die Workloads im VCF-Cluster mit der Außenwelt kommunizieren können, nutze ich BGP-Peering zu meiner Fortigate.</p>
<ul>
<li><strong>Uplink 01 (VLAN 21):</strong> <code>10.172.21.0/27</code> - T0 Uplink BGP Subnet.</li>
<li><strong>Uplink 02 (VLAN 22):</strong> <code>10.172.22.0/27</code> - T0 Uplink BGP Subnet.</li>
<li><strong>BGP Peer (VLAN 2552):</strong> <code>10.172.255.2/31</code> – Point-to-Point Verbindung zur FGT.</li>
</ul>
<h3 id="ressourcenübersicht-der-vcf-9-management-appliances">Ressourcenübersicht der VCF 9 Management Appliances</h3>
<p>Um den Ressourcenbedarf für das Deployment planen zu können, hier die Übersicht der Appliances basierend auf meinem Setup.</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Appliance</th>
          <th style="text-align: left">RAM Bedarf</th>
          <th style="text-align: left">CPU Cores</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>en-01</strong> (Edge Node)</td>
          <td style="text-align: left">4 GB</td>
          <td style="text-align: left">2</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>en-02</strong> (Edge Node)</td>
          <td style="text-align: left">4 GB</td>
          <td style="text-align: left">2</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>fleet-01</strong> (Fleet Manager)</td>
          <td style="text-align: left">12 GB</td>
          <td style="text-align: left">4</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>nsx-m-01</strong> (NSX Manager)</td>
          <td style="text-align: left">24 GB</td>
          <td style="text-align: left">6</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>ops-01</strong> (Operations)</td>
          <td style="text-align: left">16 GB</td>
          <td style="text-align: left">4</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>ops-cl-01</strong> (Operations Collector)</td>
          <td style="text-align: left">16 GB</td>
          <td style="text-align: left">4</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>ops-logs</strong> (Aria Logs)</td>
          <td style="text-align: left">8 GB</td>
          <td style="text-align: left">4</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>vc-01</strong> (vCenter)</td>
          <td style="text-align: left">21 GB</td>
          <td style="text-align: left">4</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>sddc-01</strong> (SDDC Manager)</td>
          <td style="text-align: left">16 GB</td>
          <td style="text-align: left">4</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>GESAMT</strong></td>
          <td style="text-align: left"><strong>121 GB</strong></td>
          <td style="text-align: left"><strong>34 Cores</strong></td>
      </tr>
  </tbody>
</table>
<h3 id="erweiterte-ressourcenübersicht-vcf-9--avi--vks-tanzu">Erweiterte Ressourcenübersicht: VCF 9 + Avi + VKS (Tanzu)</h3>
<p>Durch die Integration von <strong>Avi Load Balancer</strong> und dem <strong>vSphere Kubernetes Service (VKS)</strong> erhöht sich der Ressourcenbedarf signifikant.
VKS wurde mit einem single Supervisor in Medium Size ( CPU:8 RAM: 24GB ) bereitgestellt.</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Appliance / VM</th>
          <th style="text-align: left">Memory Size</th>
          <th style="text-align: left">CPUs</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>avi-m-01</strong> (Avi Controller)</td>
          <td style="text-align: left">32 GB</td>
          <td style="text-align: left">8</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>avi_default-se-fzagk</strong> (Avi Service Engine)</td>
          <td style="text-align: left">2 GB</td>
          <td style="text-align: left">1</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>avi_default-se-hbgsa</strong> (Avi Service Engine)</td>
          <td style="text-align: left">2 GB</td>
          <td style="text-align: left">1</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>avi_vks-lab-se-swpvr</strong> (Avi Service Engine)</td>
          <td style="text-align: left">2 GB</td>
          <td style="text-align: left">1</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>avi_vks-lab-se-vxxlx</strong> (Avi Service Engine)</td>
          <td style="text-align: left">2 GB</td>
          <td style="text-align: left">1</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>en-01</strong> (Edge Node)</td>
          <td style="text-align: left">4 GB</td>
          <td style="text-align: left">2</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>en-02</strong> (Edge Node)</td>
          <td style="text-align: left">4 GB</td>
          <td style="text-align: left">2</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>fleet-01</strong> (Fleet Manager)</td>
          <td style="text-align: left">12 GB</td>
          <td style="text-align: left">4</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>nsx-m-01</strong> (NSX Manager)</td>
          <td style="text-align: left">24 GB</td>
          <td style="text-align: left">6</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>ops-01</strong> (Operations)</td>
          <td style="text-align: left">16 GB</td>
          <td style="text-align: left">4</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>ops-cl-01</strong> (Operations Collector)</td>
          <td style="text-align: left">16 GB</td>
          <td style="text-align: left">4</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>ops-logs</strong> (Aria Logs)</td>
          <td style="text-align: left">8 GB</td>
          <td style="text-align: left">4</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>vc-01</strong> (vCenter)</td>
          <td style="text-align: left">21 GB</td>
          <td style="text-align: left">4</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>sddc-01</strong> (SDDC Manager)</td>
          <td style="text-align: left">16 GB</td>
          <td style="text-align: left">4</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>SupervisorControlPlaneVM (1)</strong></td>
          <td style="text-align: left">24 GB</td>
          <td style="text-align: left">8</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>tkc-a-jlsxk-5g774</strong> (Tanzu Worker)</td>
          <td style="text-align: left">4 GB</td>
          <td style="text-align: left">2</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>tkc-a-tkc-a-np-tzxb-zvddq&hellip;-9xtm7</strong></td>
          <td style="text-align: left">4 GB</td>
          <td style="text-align: left">2</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>tkc-a-tkc-a-np-tzxb-zvddq&hellip;-ckjgr</strong></td>
          <td style="text-align: left">4 GB</td>
          <td style="text-align: left">2</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>tkc-a-tkc-a-np-tzxb-zvddq&hellip;-mqqpm</strong></td>
          <td style="text-align: left">4 GB</td>
          <td style="text-align: left">2</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>GESAMT</strong></td>
          <td style="text-align: left"><strong>195 GB</strong></td>
          <td style="text-align: left"><strong>61 Cores</strong></td>
      </tr>
  </tbody>
</table>
<p>Durch die zusätzlichen VKSund Avi-Komponenten steigt der Bedarf auf insgesamt <strong>195 GB RAM</strong> und <strong>61 vCPUs</strong>.</p>
<h2 id="fazit-maximale-cloud-power-auf-kleinstem-raum">Fazit: Maximale Cloud-Power auf kleinstem Raum</h2>
<p>Der Aufbau meines VCF 9 Homelabs zeigt eindrucksvoll, was heute mit moderner Consumer-Hardware und den neuen Flexibilitäten von VMware Cloud Foundation möglich ist. Trotz des massiven Ressourcenbedarfs von fast <strong>200 GB RAM</strong> und über <strong>60 vCPUs</strong> für den vollen Stack inklusive Avi und Tanzu, bleibt das Setup im Alltag handhabbar und vor allem effizient.</p>
<h3 id="fazit-meines-setups">Fazit meines Setups:</h3>
<ul>
<li><strong>Effizienzwunder:</strong> Das gesamte Lab – bestehend aus zwei Intel NUCs, dem Beelink NVMe-NAS und dem Mikrotik-Switch – verbraucht unter Volllast <strong>maximal 150 Watt</strong>. Im normalen Idle-Betrieb liegt der Wert sogar deutlich darunter. Das ist ein Bruchteil dessen, was vergleichbare Enterprise-Server im Rack verbrauchen würden.</li>
<li><strong>Minimaler Formfaktor:</strong> Die gesamte Infrastruktur passt problemlos auf eine Ecke des Schreibtisches oder in ein kleines Regal. Wir sprechen hier von einem vollwertigen Software-Defined Datacenter (SDDC), das buchstäblich in einen Rucksack passt.</li>
<li><strong>Performance durch Innovation:</strong> Dank <strong>Memory Tiering</strong> und der konsequenten Nutzung von <strong>2,5 Gbit/s Networking</strong> fühlt sich die Umgebung trotz der hohen Konsolidierung extrem performant an.</li>
</ul>
<p>VCF 9 hat durch die Abkehr vom vSAN-Zwang in der Management Domain die Tür für solche kompakten &ldquo;NUC-Labs&rdquo; weit aufgestoßen. Wer ein leistungsstarkes Labor für moderne Cloud-Workloads sucht, ohne dabei ein eigenes Kraftwerk oder einen schallisolierten Serverraum zu benötigen, findet in dieser Kombination aus Intel NUCs und NVMe-basiertem NFS-Storage die ideale Lösung.</p>
<hr>

            </div>
        </article></main>
</div>
<footer class="footer">
    <span class="footer_item"> </span>
    &nbsp;

    <div class="footer_social-icons">
<a href="https://github.com/vi-universe" target="_blank" rel="noopener noreferrer me"
    title="Github">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
</a>
<a href="https://www.linkedin.com/in/christian-kremer-it" target="_blank" rel="noopener noreferrer me"
    title="LinkedIn">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
    <rect x="2" y="9" width="4" height="12"></rect>
    <circle cx="4" cy="4" r="2"></circle>
</svg>
</a>
<a href="/index.xml" target="_blank" rel="noopener noreferrer me"
    title="Rss">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 11a9 9 0 0 1 9 9" />
    <path d="M4 4a16 16 0 0 1 16 16" />
    <circle cx="5" cy="19" r="1" />
</svg>
</a>
</div>
    <small class="footer_copyright">
        © 2026 Christian Kremer.
        Unterstützt durch <a href="https://github.com/hugo-sid/hugo-blog-awesome" target="_blank" rel="noopener">Hugo blog awesome</a>.
    </small>
</footer><a href="#" title="Zum Seitenanfang" id="totop">
    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" stroke="currentColor" viewBox="0 96 960 960">
    <path d="M283 704.739 234.261 656 480 410.261 725.739 656 677 704.739l-197-197-197 197Z"/>
</svg>

</a>


    




    
    
        
    

    
    
        
    



    
    <script src="https://vi-universe.de/js/main.min.35f435a5d8eac613c52daa28d8af544a4512337d3e95236e4a4978417b8dcb2f.js" integrity="sha256-NfQ1pdjqxhPFLaoo2K9USkUSM30&#43;lSNuSkl4QXuNyy8="></script>

    

</body>
</html>
